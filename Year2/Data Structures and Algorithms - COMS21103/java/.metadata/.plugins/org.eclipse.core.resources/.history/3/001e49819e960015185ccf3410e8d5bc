import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileOutputStream;
import java.io.FileReader;


public class RLEtoPGM {
    
    String filename;
    
    public RLEtoPGM(String filename) {
        this.filename = filename;
    }

    public static void main (String args[]){
        RLEtoPGM converter = new RLEtoPGM(args[0]);
        converter.convert();
    }
    
    public void convert(){
        File file = new File(filename);
        try {
            BufferedReader reader = new BufferedReader(new FileReader(file));
            BufferedOutputStream writer = new BufferedOutputStream(new FileOutputStream("output.pgm")); 
            byte first[] = {'P','5','\n'};
            writer.write(first);
            String line = reader.readLine();
            String args[] = line.split(",");
            String width = String.valueOf(Integer.parseInt(args[0].split("=")[1]));
            String height = String.valueOf(Integer.parseInt(args[1].split("=")[1]));
            char second[] = new char[width.length()+height.length()+1];
            int j = 0;
            for(int i = 0;i<width.length();i++){
                second[j] = width.charAt(i);
                j++;
            }
            second[j]=' ';j++;
            for(int i = 0;i<height.length();i++){
                second[j] = height.charAt(i);
                j++;
            }
            second[j]='\n';
            writer.write(new String(second).getBytes());
            while(true){
                line = reader.readLine();
                for(int i = 0;i<line.length();i++){
                    int count = 0;
                    char c = line.charAt(i);
                    if(c=='!')
                        break;
                    if(c!='b' && c!='o' && c!='$'){
                        
                    }
                }
            }
            reader.close();
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }




}
